function sf_addItem(e,s,a,l,t){var r=jQuery(e).find(".live-search_ajaxy-selective-item"),i=!1,c="",o=t.split(":");if(c=2==o.length?o[0]:t,r.length>0)for(var n=0;n<r.length;n++)if(jQuery(r[n]).find("input.live-search_ajaxy-selective-close-hidden").val()==c){i=!0;break}if(i)return jQuery(e).find(".live-search_ajaxy-selective-input").val(""),void jQuery("#live-search_sb").hide();2==s.split(":").length&&(s=o[1]);var u=jQuery('<span class="live-search_ajaxy-selective-item">'+s+'<a class="live-search_ajaxy-selective-close">X</a><input class="live-search_ajaxy-selective-close-hidden" type="hidden" name="'+a+'" value="'+c+'" /></span>');r.length<=0?jQuery(e).prepend(u):u.insertAfter(r[r.length-1]),u.click(function(){jQuery(this).remove()});var h=jQuery(e).find(".live-search_ajaxy-selective-input");h&&(h.val(""),"array"!=l?h.css("visibility","hidden"):h.focus()),jQuery("#live-search_sb").hide()}!function($){$.fn.extend({ajaxyLiveSearch:function(e,s){e=e&&"object"==typeof e?$.extend({},$.ajaxyLiveSearch.defaults,e):$.ajaxyLiveSearch.defaults,this.is("input")&&this.each(function(){new $.ajaxyLiveSearch.load(this,e,s)})}}),$.ajaxyLiveSearch={element:null,timeout:null,options:null,load:function(e,s,a){this.element=e,this.timeout=null,this.options=s,""==$(e).val()&&$(e).val(s.text),$(e).attr("autocomplete","off"),0==$("#live-search_sb").length&&$("header .search-block").append('<div id="live-search_sb" class="live-search_sb" style="position:absolute;display:none;width:'+s.width+'px;z-index:999"><div class="live-search_sb_cont"><div class="live-search_sb_top"></div><div id="live-search_results" style="width:100%"><div id="live-search_val" ></div><div id="live-search_more"></div></div><div class="live-search_sb_bottom"></div></div></div>'),$.ajaxyLiveSearch.loadEvents(this)},loadResults:function(object){if(options=object.options,elem=object.element,window.sf_lastElement=elem,""!=jQuery(elem).val()){jQuery("body").data("live-search_results",null);var loading='<li class="live-search_lnk live-search_more live-search_selected"><a id="live-search_loading" href="'+options.searchUrl.replace("%s",encodeURI(jQuery(elem).val()))+'"><i class="fa fa-spinner fa-spin"></i></a></li>';jQuery("#live-search_val").html("<ul>"+loading+"</ul>");var pos=this.bounds(elem,options),containerPos=this.bounds("header .search-block",options);if(!pos)return jQuery("#live-search_sb").hide(),!1;Math.ceil(containerPos.left)+parseInt(options.width,10)>jQuery(window).width()&&jQuery("#live-search_sb").css("width",jQuery(window).width()-containerPos.left-20),jQuery("body").hasClass("rtl")?jQuery("#live-search_sb").css({top:pos.bottom,right:containerPos.right}):jQuery("#live-search_sb").css({top:pos.bottom,right:containerPos.left}),jQuery("#live-search_sb").show();var data={action:"ajaxy_sf",sf_value:jQuery(elem).val(),search:options.search};if(options.ajaxData&&(data=window[options.ajaxData](data)),options.search){var mresults=options.search.split(","),results=[],m="",s=0,c=[];for(var kindex in mresults){var dm=mresults[kindex].split(":");2==dm.length?0==dm[1].indexOf(jQuery(elem).val())&&(results[results.length]=mresults[kindex]):1==dm.length&&0==mresults[kindex].indexOf(jQuery(elem).val())&&(results[results.length]=mresults[kindex])}c=$.ajaxyLiveSearch.htmlArrayResults(results),m+=c[0],s+=c[1];var sf_selected="";0==s&&(sf_selected=" live-search_selected"),m+='<li class="live-search_lnk live-search_more'+sf_selected+'">{total} '+lang_results_found+"</li>",m=m.replace(/{search_value_escaped}/g,jQuery(elem).val()),m=m.replace(/{search_url_escaped}/g,options.searchUrl.replace("%s",encodeURI(jQuery(elem).val()))),m=m.replace(/{search_value}/g,jQuery(elem).val()),m=m.replace(/{total}/g,s),jQuery("body").data("live-search_results",results),jQuery("#live-search_val").html("<ul>"+m+"</ul>"),$.ajaxyLiveSearch.loadLiveEvents(object),jQuery("#live-search_sb").show()}else jQuery.post(options.ajaxUrl,data,function(resp){var results=eval("("+resp+")"),m="",s=0;for(var mindex in results){var c=[];for(var kindex in results[mindex])c=$.ajaxyLiveSearch.htmlResults(results[mindex][kindex],mindex,kindex),m+=c[0],s+=c[1]}var sf_selected="";if(0==s){var lang_no_results="No Result";sf_selected=" live-search_selected",m+='<li class="live-search_lnk live-search_more">'+lang_no_results+"</li>"}else options.callback||(m+='<li class="live-search_lnk live-search_more">'+sf_templates+"</li>"),m=m.replace(/{search_value_escaped}/g,jQuery(elem).val()),m=m.replace(/{search_url_escaped}/g,options.searchUrl.replace("%s",encodeURI(jQuery(elem).val())));jQuery("body").data("live-search_results",results),jQuery("#live-search_val").html('<ul class="live-search_main">'+m+"</ul>"),$.ajaxyLiveSearch.loadLiveEvents(object),jQuery("#live-search_sb").show()})}else jQuery("#live-search_sb").hide()},bounds:function(e,s){if(jQuery(e).offset())return{}},htmlResults:function(e,s,a){var l="",t=0;if(void 0!==e&&e.all.length>0){l+='<li class="live-search_header">'+e.title+'</li><li><div class="live-search_result_container"><ul>';for(var r=0;r<e.all.length;r++)t++,l+="<li result-type='object' index-type='"+s+"' index-array='"+a+"' index='"+r+"' class=\"live-search_lnk "+e.class_name+'">'+$.ajaxyLiveSearch.replaceResults(e.all[r],e.template)+"</li>";l+="</ul></div></li>"}return new Array(l,t)},htmlArrayResults:function(e){var s="",a=0;if(void 0!==e&&e.length>0){s+='<li><div class="live-search_result_container"><ul>';for(var l=0;l<e.length;l++){var t=e[l].split(":");a++,s+="<li result-type='array' index='"+l+"' class=\"live-search_lnk live-search_category\"><a href='javascript:;'>"+(2==t.length?t[1]:e[l])+"</a></li>"}s+="</ul></div></li>"}return new Array(s,a)},replaceResults:function(e,s){for(var a in e)s=s.replace(new RegExp("{"+a+"}","g"),e[a]);return s},loadLiveEvents:function(e){var s={object:e};jQuery("#live-search_val li.live-search_lnk").mouseover(function(){jQuery(".live-search_lnk").each(function(){jQuery(this).attr("class",jQuery(this).attr("class").replace(" live-search_selected",""))}),jQuery(this).attr("class",jQuery(this).attr("class")+" live-search_selected")}),s.object.options.callback&&jQuery("#live-search_val li.live-search_lnk").click(function(e){try{window[s.object.options.callback](s.object,this)}catch(e){alert(e)}return!1})},loadEvents:function(e){var s={object:e};jQuery(document).click(function(){jQuery("#live-search_sb").hide()}),jQuery(window).resize(function(){var e=$.ajaxyLiveSearch.bounds(window.sf_lastElement,s.object.options);e&&jQuery("#live-search_sb").css({top:e.bottom,left:e.left})}),jQuery(e.element).keyup(function(e){if("38"!=e.keyCode&&"40"!=e.keyCode&&"13"!=e.keyCode&&"27"!=e.keyCode&&"39"!=e.keyCode&&"37"!=e.keyCode){var a=s.object;null!=a.timeout&&clearTimeout(a.timeout),jQuery(a.element).attr("class",jQuery(a.element).attr("class").replace(" live-search_focused","")+" live-search_focused");var l={object:s.object};a.timeout=setTimeout(function(){jQuery.ajaxyLiveSearch.loadResults(l.object)},s.object.options.delay)}}),jQuery(window).keydown(function(e){if("none"!=jQuery("#live-search_sb").css("display")&&"undefined"!=jQuery("#live-search_sb").css("display")&&jQuery("#live-search_sb").length>0)if("38"==e.keyCode||"40"==e.keyCode){jQuery.browser.webkit&&jQuery("#live-search_sb").focus();var a=!1,l=jQuery("#live-search_val li.live-search_lnk"),t=!1;e.stopPropagation(),e.preventDefault();for(var r=0;r<l.length;r++)jQuery(l[r]).attr("class").indexOf("live-search_selected")>=0&&0==t?(a=!0,r<l.length-1&&"40"==e.keyCode?(jQuery(l[r]).attr("class",jQuery(l[r]).attr("class").replace(" live-search_selected","")),jQuery(l[r+1]).attr("class",jQuery(l[r+1]).attr("class")+" live-search_selected"),r+=1,t=!0):r>0&&"38"==e.keyCode&&(jQuery(l[r]).attr("class",jQuery(l[r]).attr("class").replace(" live-search_selected","")),jQuery(l[r-1]).attr("class",jQuery(l[r-1]).attr("class")+" live-search_selected"),r+=1,t=!0)):jQuery(l[r]).attr("class",jQuery(l[r]).attr("class").replace(" live-search_selected",""));0==a&&l.length>0&&jQuery(l[0]).attr("class",jQuery(l[0]).attr("class")+" live-search_selected")}else if(27==e.keyCode)jQuery("#live-search_sb").hide();else if(13==e.keyCode){var i=jQuery("#live-search_val li.live-search_selected a").attr("href");return void 0!==i&&""!=i?(s.object.options.callback?s.object.options.callback(this):window.location.href=i,!1):(s.object.options.callback?s.object.options.callback(this):null!=s.object.element&&(window.location.href=sf_url.replace("%s",encodeURI(jQuery(s.object).val()))),!1)}}),jQuery(e.element).focus(function(){jQuery(this).val()==s.object.options.text&&(jQuery(this).val(""),jQuery(this).attr("class",jQuery(this).attr("class")+" live-search_focused")),s.object.options.expand>0&&jQuery(s.object.element).animate({width:s.object.options.iwidth})}),jQuery(e.element).blur(function(){""==jQuery(this).val()&&(jQuery(this).val(s.object.options.text),jQuery(this).attr("class",jQuery(this).attr("class").replace(/ sf_focused/g,""))),s.object.options.expand>0&&jQuery(s.object.element).animate({width:s.object.options.expand})})}},$.ajaxyLiveSearch.defaults={delay:500,leftOffset:0,topOffset:5,text:"Search For",iwidth:180,width:315,ajaxUrl:"",ajaxData:!1,searchUrl:"",expand:!1,callback:!1,search:!1}}(jQuery);